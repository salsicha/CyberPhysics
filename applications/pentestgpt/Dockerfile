
## https://github.com/hackerai-tech/PentestGPT.git

FROM supabase/supabase-dev AS build

ENV LANG=en_US.UTF-8 \
    LANGUAGE=en_US.UTF-8 \
    TERM=xterm \
    PYTHONIOENCODING=UTF-8 \
    DEBIAN_FRONTEND=noninteractive \
    PATH="/venv/bin:$PATH"

# This prevents ROS setup.bash from failing
SHELL ["/bin/bash","-c"]

RUN apt update && apt install -q -y --no-install-recommends \
    curl gnupg2 lsb-release python3-pip python3-venv wget vim unzip nginx git && \
    rm -rf /var/lib/apt/lists/*

RUN python3 -m venv /venv

WORKDIR /

RUN wget https://github.com/hackerai-tech/PentestGPT/archive/refs/heads/main.zip && \
    unzip main.zip && rm main.zip

WORKDIR /PentestGPT-main

RUN npm install


# TODO: startup

# cp .env.local.example .env.local
# get values from:
# supabase status
# fill in .env.local
# supabase/migrations/20240108234540_setup.sql
# change "service_role_key" to value from "supabase status"

# starting supabase:
# supabase start

# start pentestgpt:
# npm run chat

# view page at:
# http://localhost:3000/

# configure... see README for instructions:
# https://github.com/hackerai-tech/PentestGPT
